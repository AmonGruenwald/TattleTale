\hypertarget{actor_8hpp_source}{}\doxysection{actor.\+hpp}
\label{actor_8hpp_source}\index{tale/actor.hpp@{tale/actor.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef TALE\_ACTOR\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define TALE\_ACTOR\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}tale/setting.hpp"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}tale/globals/random.hpp"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}tale/globals/interactionstore.hpp"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}tale/kernels/goal.hpp"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}tale/kernels/resourcekernels/resource.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}tale/kernels/resourcekernels/emotion.hpp"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}tale/kernels/resourcekernels/relationship.hpp"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}tale/kernels/trait.hpp"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}tale/kernels/interactions/interactionrequirement.hpp"{}}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacetale}{tale}}}
\DoxyCodeLine{18 \{}
\DoxyCodeLine{19     \textcolor{keyword}{class }School;}
\DoxyCodeLine{24     \textcolor{keyword}{class }\mbox{\hyperlink{classtale_1_1_actor}{Actor}} : \textcolor{keyword}{public} std::enable\_shared\_from\_this<Actor>}
\DoxyCodeLine{25     \{}
\DoxyCodeLine{26     \textcolor{keyword}{public}:}
\DoxyCodeLine{30         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classtale_1_1_actor_af7e52683a15674295c1cc009c9ee8827}{id\_}};}
\DoxyCodeLine{34         \textcolor{keyword}{const} std::string \mbox{\hyperlink{classtale_1_1_actor_ae7a2a11193045c25787a87bc3821f909}{name\_}};}
\DoxyCodeLine{38         \textcolor{keyword}{const} std::string \mbox{\hyperlink{classtale_1_1_actor_adfc3264d342124e767b4439e6c598949}{first\_name\_}};}
\DoxyCodeLine{42         \textcolor{keyword}{const} std::string \mbox{\hyperlink{classtale_1_1_actor_aee22f633e5268b7dbe5a87af9219d77f}{last\_name\_}};}
\DoxyCodeLine{46         std::weak\_ptr<Resource> \mbox{\hyperlink{classtale_1_1_actor_a63120828ec30882a6d52de004cf30afd}{wealth\_}};}
\DoxyCodeLine{50         std::map<EmotionType, std::weak\_ptr<Emotion>> \mbox{\hyperlink{classtale_1_1_actor_af23bc6c5c6ba6490570b330e73967b2b}{emotions\_}};}
\DoxyCodeLine{55         std::map<size\_t, std::map<RelationshipType, std::weak\_ptr<Relationship>>> \mbox{\hyperlink{classtale_1_1_actor_a4e8a3892c01d9e11fc35437405bfd5e9}{relationships\_}};}
\DoxyCodeLine{59         std::vector<std::weak\_ptr<Trait>> \mbox{\hyperlink{classtale_1_1_actor_ac955da0036f4080f1244984513cf4dc3}{traits\_}};}
\DoxyCodeLine{63         std::weak\_ptr<Goal> \mbox{\hyperlink{classtale_1_1_actor_af89d11036063da76c3e79d5a967baf7a}{goal\_}};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65         \mbox{\hyperlink{classtale_1_1_actor}{Actor}}(\mbox{\hyperlink{classtale_1_1_school}{School}} \&school, \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id}, std::string first\_name, std::string last\_name);}
\DoxyCodeLine{66         \textcolor{keywordtype}{void} SetupRandomValues(\textcolor{keywordtype}{size\_t} tick);}
\DoxyCodeLine{73         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtale_1_1_actor_adced7f601f68a004a0e2b047c5954cad}{IsEnrolledInCourse}}(\textcolor{keywordtype}{size\_t} course\_id) \textcolor{keyword}{const};}
\DoxyCodeLine{82         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_abaf48912c1386a3f1c3feef0cb5554b1}{EnrollInCourse}}(\textcolor{keywordtype}{size\_t} course\_id, uint32\_t slot);}
\DoxyCodeLine{83         \textcolor{keywordtype}{void} EjectFromCourse(\textcolor{keywordtype}{size\_t} course\_id, uint32\_t slot);}
\DoxyCodeLine{89         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classtale_1_1_actor_a358943a8762ed47edf8f48b1d24aec19}{GetFilledSlotsCount}}() \textcolor{keyword}{const};}
\DoxyCodeLine{95         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtale_1_1_actor_af5ef5bc94b8fcf02a63fc5a361b0909e}{AllSlotsFilled}}() \textcolor{keyword}{const};}
\DoxyCodeLine{102         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtale_1_1_actor_aa74a2d4bebd404b57147f1a382934fab}{SlotsEmpty}}(\textcolor{keyword}{const} std::vector<uint32\_t> \&slots) \textcolor{keyword}{const};}
\DoxyCodeLine{114         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtale_1_1_actor_ad86b2df25e8ee27046355d9eb938b353}{SlotEmpty}}(\textcolor{keywordtype}{size\_t} slot) \textcolor{keyword}{const};}
\DoxyCodeLine{115         \textcolor{keywordtype}{int} ChooseInteraction(\textcolor{keyword}{const} std::vector<std::weak\_ptr<Actor>> \&actor\_group, \mbox{\hyperlink{namespacetale_a225d06d073badd478104ae2aafce1839}{ContextType}} context, std::vector<std::weak\_ptr<Kernel>> \&out\_reasons, std::vector<std::weak\_ptr<Actor>> \&out\_participants, \textcolor{keywordtype}{float} \&out\_chance);}
\DoxyCodeLine{131         \textcolor{keywordtype}{float} \mbox{\hyperlink{classtale_1_1_actor_a390b47372efd8d654d6a45aa8727771c}{CalculateTendencyChance}}(\textcolor{keyword}{const} \mbox{\hyperlink{structtale_1_1_tendency}{Tendency}} \&tendency, \textcolor{keyword}{const} \mbox{\hyperlink{namespacetale_a225d06d073badd478104ae2aafce1839}{ContextType}} \&context, std::weak\_ptr<Kernel> \&out\_reason);}
\DoxyCodeLine{132         \textcolor{keywordtype}{float} ApplyGoalChanceModification(\textcolor{keywordtype}{float} original\_chance, \textcolor{keywordtype}{size\_t} interaction\_index, \textcolor{keywordtype}{bool} \&out\_had\_positive\_effect);}
\DoxyCodeLine{133         \textcolor{keywordtype}{bool} CheckRequirements(\textcolor{keyword}{const} \mbox{\hyperlink{structtale_1_1_requirement}{Requirement}} \&requirement, \textcolor{keyword}{const} std::vector<std::weak\_ptr<Actor>> \&actor\_group, \mbox{\hyperlink{namespacetale_a225d06d073badd478104ae2aafce1839}{ContextType}} context) \textcolor{keyword}{const};}
\DoxyCodeLine{141         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_a6b9a636a41cd0ff4643f06d320de991d}{ApplyWealthChange}}(\textcolor{keyword}{const} std::vector<std::weak\_ptr<Kernel>> \&reasons, \textcolor{keywordtype}{size\_t} tick, \textcolor{keywordtype}{float} value);}
\DoxyCodeLine{152         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_a1e01ae3cb1b7e8cebf9f2b02edf60e8d}{ApplyEmotionChange}}(\textcolor{keyword}{const} std::vector<std::weak\_ptr<Kernel>> \&reasons, \textcolor{keywordtype}{size\_t} tick, EmotionType type, \textcolor{keywordtype}{float} value);}
\DoxyCodeLine{164         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_a643972cf19d8bab00fc7de28a350e773}{ApplyRelationshipChange}}(\textcolor{keyword}{const} std::vector<std::weak\_ptr<Kernel>> \&reasons, \textcolor{keywordtype}{size\_t} tick, \textcolor{keywordtype}{size\_t} actor\_id, std::map<RelationshipType, float> change);}
\DoxyCodeLine{170         std::string \mbox{\hyperlink{classtale_1_1_actor_a3cff1f8b6b3f68e6af8c327f5e7d8d85}{GetWealthDescriptionString}}();}
\DoxyCodeLine{176         std::string \mbox{\hyperlink{classtale_1_1_actor_a0f49eaa23e0dfc803c460fdf1a06c8cc}{GetEmotionsDescriptionString}}();}
\DoxyCodeLine{182         std::string \mbox{\hyperlink{classtale_1_1_actor_a089d41abd6ff6c41d3dd0078926a5d2e}{GetRelationshipsDescriptionString}}();}
\DoxyCodeLine{188         std::string \mbox{\hyperlink{classtale_1_1_actor_a45f596aedccf92eb464a11374eb8eaae}{GetGoalDescriptionString}}();}
\DoxyCodeLine{194         std::string \mbox{\hyperlink{classtale_1_1_actor_a4855909ea2480144e63d4764d5a5784e}{GetTraitsDescriptionString}}();}
\DoxyCodeLine{195         \textcolor{keyword}{const} std::vector<std::weak\_ptr<Actor>> \&GetAllKnownActors() \textcolor{keyword}{const};}
\DoxyCodeLine{196         std::vector<std::weak\_ptr<Actor>> GetFreetimeActorGroup() \textcolor{keyword}{const};}
\DoxyCodeLine{197         \textcolor{keywordtype}{float} CalculateRelationshipValue(\textcolor{keywordtype}{size\_t} actor\_id) \textcolor{keyword}{const};}
\DoxyCodeLine{198         \textcolor{keywordtype}{bool} HasRelationshipWith(\textcolor{keywordtype}{size\_t} actor\_id) \textcolor{keyword}{const};}
\DoxyCodeLine{199         \textcolor{keywordtype}{void} InsertNewRelationship(std::weak\_ptr<Actor> other\_actor, std::map<RelationshipType, std::weak\_ptr<Relationship>> relationship);}
\DoxyCodeLine{200 }
\DoxyCodeLine{201     \textcolor{keyword}{private}:}
\DoxyCodeLine{205         \mbox{\hyperlink{classtale_1_1_random}{Random}} \&\mbox{\hyperlink{classtale_1_1_actor_a589ad88bd32aa87029fdd4f30d059bb6}{random\_}};}
\DoxyCodeLine{209         \mbox{\hyperlink{classtale_1_1_chronicle}{Chronicle}} \&\mbox{\hyperlink{classtale_1_1_actor_adedf2f03ce2e0634a6cfa4afdd800875}{chronicle\_}};}
\DoxyCodeLine{213         \mbox{\hyperlink{classtale_1_1_school}{School}} \&\mbox{\hyperlink{classtale_1_1_actor_a822a5c5e0484b21932d4faf42d44a15d}{school\_}};}
\DoxyCodeLine{217         \mbox{\hyperlink{classtale_1_1_interaction_store}{InteractionStore}} \&\mbox{\hyperlink{classtale_1_1_actor_a1ca3019978ddeca9e26d86cedc9b0b75}{interaction\_store\_}};}
\DoxyCodeLine{221         \textcolor{keyword}{const} \mbox{\hyperlink{structtale_1_1_setting}{Setting}} \&\mbox{\hyperlink{classtale_1_1_actor_a10bb3d000d14e1cf888f59e0407c97c7}{setting\_}};}
\DoxyCodeLine{225         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classtale_1_1_actor_a9eea67b53dc323cc31a8705dd536eac1}{filled\_slots\_count\_}} = 0;}
\DoxyCodeLine{229         std::vector<int> \mbox{\hyperlink{classtale_1_1_actor_a8523f3a44c93d312293f809c933eef96}{enrolled\_courses\_id\_}};}
\DoxyCodeLine{230         std::vector<std::weak\_ptr<Actor>> known\_actors\_;}
\DoxyCodeLine{238         \textcolor{keywordtype}{void}}
\DoxyCodeLine{239         \mbox{\hyperlink{classtale_1_1_actor_abb4aa68fa8e36a8a92b09c80c4f331a1}{InitializeRandomWealth}}(\textcolor{keywordtype}{size\_t} tick);}
\DoxyCodeLine{247         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_a387082f460376d3e7a3853f5377f7b04}{InitializeRandomEmotions}}(\textcolor{keywordtype}{size\_t} tick);}
\DoxyCodeLine{255         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_a7ac154b98d1cbadcd80421ae15122dec}{InitializeRandomRelationships}}(\textcolor{keywordtype}{size\_t} tick);}
\DoxyCodeLine{263         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_afb56061a1a70a15fbd80ffaa03f46dca}{InitializeRandomGoal}}(\textcolor{keywordtype}{size\_t} tick);}
\DoxyCodeLine{271         \textcolor{keywordtype}{void} \mbox{\hyperlink{classtale_1_1_actor_a35502b65911d71bcb0a3b2e8ced3e25a}{InitializeRandomTraits}}(\textcolor{keywordtype}{size\_t} tick);}
\DoxyCodeLine{272 }
\DoxyCodeLine{273         \textcolor{keywordtype}{void} UpdateKnownActors();}
\DoxyCodeLine{274     \};}
\DoxyCodeLine{275 }
\DoxyCodeLine{276 \} \textcolor{comment}{// namespace tale}}
\DoxyCodeLine{277 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// TALE\_ACTOR\_H}}

\end{DoxyCode}
