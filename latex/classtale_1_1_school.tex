\hypertarget{classtale_1_1_school}{}\doxysection{tale\+::School Class Reference}
\label{classtale_1_1_school}\index{tale::School@{tale::School}}


\mbox{\hyperlink{classtale_1_1_school}{School}} class that is responsible for managing actors and courses during the simulation.  




{\ttfamily \#include $<$tale/school.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtale_1_1_school_a58b33316cfcf6b44daec246f69d4f0fa}{School}} (const \mbox{\hyperlink{structtale_1_1_setting}{Setting}} \&setting)
\begin{DoxyCompactList}\small\item\em Constructor that sets up everything necessayr for the simulation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtale_1_1_school_a0f54fb8a405defd17c71182c9ae8df6a}{Simulate\+Days}} (size\+\_\+t days)
\begin{DoxyCompactList}\small\item\em Runs the simulation for the passed amount of days. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{structtale_1_1_setting}{Setting}} \& \mbox{\hyperlink{classtale_1_1_school_aa81268087c49316734bca8d7f1b23f46}{Get\+Setting}} () const
\begin{DoxyCompactList}\small\item\em Getter for the \mbox{\hyperlink{structtale_1_1_setting}{Setting}} object of the simulation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} \& \mbox{\hyperlink{classtale_1_1_school_a58a0a6ea0a90b8e38145c9aae8e5a76e}{Get\+Interaction\+Store}} ()
\begin{DoxyCompactList}\small\item\em Getter for the \mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} object of the simulation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classtale_1_1_random}{Random}} \& \mbox{\hyperlink{classtale_1_1_school_ab6b2f5dd4516d9319e2f8034c83d1a68}{Get\+Random}} ()
\begin{DoxyCompactList}\small\item\em Getter for the \mbox{\hyperlink{classtale_1_1_random}{Random}} object of the simulation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classtale_1_1_school_ad164e018ad618dc4859448c0a11addbe}{Simulate\+Day}} (size\+\_\+t day, \mbox{\hyperlink{namespacetale_ad595b201ea86d7ebf4b21df67f60e76d}{Weekday}} weekday)
\begin{DoxyCompactList}\small\item\em Simulates a single day. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_af2e20378b185dd70f581d759896d5c50}\label{classtale_1_1_school_af2e20378b185dd70f581d759896d5c50}} 
void {\bfseries Free\+Time\+Tick} ()
\begin{DoxyCompactList}\small\item\em Simulates a tick where the \mbox{\hyperlink{classtale_1_1_actor}{Actors }} have free time. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classtale_1_1_school_accd65b68115bd75bae9efe7eb48589d1}{Is\+Workday}} (\mbox{\hyperlink{namespacetale_ad595b201ea86d7ebf4b21df67f60e76d}{Weekday}} weekday) const
\begin{DoxyCompactList}\small\item\em Checks wheter the passed Weeekday is a workday or not. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classtale_1_1_school_a65fdd724d413035d79148a7764ee52e3}{Actor\+Is\+In\+Course\+Group}} (const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classtale_1_1_actor}{Actor}} $>$ \&actor, const std\+::vector$<$ std\+::weak\+\_\+ptr$<$ \mbox{\hyperlink{classtale_1_1_actor}{Actor}} $>$ $>$ \&course\+\_\+group) const
\begin{DoxyCompactList}\small\item\em Checks wheter the passed \mbox{\hyperlink{classtale_1_1_actor}{Actor}} is in the passed course group. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classtale_1_1_school_a557cf91eee5ba6d30072ab98adfc0565}{Weekday\+And\+Daily\+Tick\+To\+Slot}} (\mbox{\hyperlink{namespacetale_ad595b201ea86d7ebf4b21df67f60e76d}{Weekday}} weekday, size\+\_\+t daily\+\_\+tick) const
\begin{DoxyCompactList}\small\item\em Transforms a Weekday and a daily tick to a slot index. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::weak\+\_\+ptr$<$ \mbox{\hyperlink{classtale_1_1_actor}{Actor}} $>$ $>$ \mbox{\hyperlink{classtale_1_1_school_a981efdafe40ea393d59fb91e241c1bef}{Find\+Random\+Course\+Group}} (size\+\_\+t course\+\_\+id, const std\+::vector$<$ uint32\+\_\+t $>$ \&slots)
\begin{DoxyCompactList}\small\item\em Finds a random group of \mbox{\hyperlink{classtale_1_1_actor}{Actors }} that could take the \mbox{\hyperlink{classtale_1_1_course}{Course}} during those slots. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classtale_1_1_school_a3ea64ebc979438d38918cc4a2014a17f}\label{classtale_1_1_school_a3ea64ebc979438d38918cc4a2014a17f}} 
std\+::vector$<$ \mbox{\hyperlink{classtale_1_1_course}{Course}} $>$ {\bfseries courses\+\_\+}
\begin{DoxyCompactList}\small\item\em Holds all instanced courses. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_a384e4007d95d0405aebb49881f190a8f}\label{classtale_1_1_school_a384e4007d95d0405aebb49881f190a8f}} 
std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classtale_1_1_actor}{Actor}} $>$ $>$ {\bfseries actors\+\_\+}
\begin{DoxyCompactList}\small\item\em Holds all instanced actors. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_a9faeedcae3a7c6297d36c4a315d2d9ac}\label{classtale_1_1_school_a9faeedcae3a7c6297d36c4a315d2d9ac}} 
\mbox{\hyperlink{classtale_1_1_random}{Random}} {\bfseries random\+\_\+}
\begin{DoxyCompactList}\small\item\em Holds the instance of the \mbox{\hyperlink{classtale_1_1_random}{Random}} object of the simulation. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_a9e677df6848364810d1b4eb5e1aca32f}\label{classtale_1_1_school_a9e677df6848364810d1b4eb5e1aca32f}} 
const \mbox{\hyperlink{structtale_1_1_setting}{Setting}} \& {\bfseries setting\+\_\+}
\begin{DoxyCompactList}\small\item\em Holds a reference to an instance of the \mbox{\hyperlink{structtale_1_1_setting}{Setting}} object that was passed during construction. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_a511e471fc76d154b55195d275451b70c}\label{classtale_1_1_school_a511e471fc76d154b55195d275451b70c}} 
\mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} {\bfseries interaction\+\_\+store\+\_\+}
\begin{DoxyCompactList}\small\item\em Holds the instance of the \mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} object for the simulation. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_a4cccbd355eb313b0511a9edf93ad4248}\label{classtale_1_1_school_a4cccbd355eb313b0511a9edf93ad4248}} 
size\+\_\+t {\bfseries current\+\_\+tick} = 0
\begin{DoxyCompactList}\small\item\em The current tick of the simulation (increases after each slot or freetime activity has commenced for every actor). This is always the tick that will be simulated next. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_a540626af1e9f9d2b85ad2d2e9472de94}\label{classtale_1_1_school_a540626af1e9f9d2b85ad2d2e9472de94}} 
size\+\_\+t {\bfseries current\+\_\+day\+\_\+} = 0
\begin{DoxyCompactList}\small\item\em The current day. This is always the day that will be simulated next. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtale_1_1_school_abe473eed6787ef800133c2fbb729837a}\label{classtale_1_1_school_abe473eed6787ef800133c2fbb729837a}} 
\mbox{\hyperlink{namespacetale_ad595b201ea86d7ebf4b21df67f60e76d}{Weekday}} {\bfseries current\+\_\+weekday\+\_\+} = Weekday\+::\+Monday
\begin{DoxyCompactList}\small\item\em The current Weekday. This is always the Weekday that will be simulated next. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{classtale_1_1_school}{School}} class that is responsible for managing actors and courses during the simulation. 

The \mbox{\hyperlink{classtale_1_1_school}{School}} class uses a \mbox{\hyperlink{structtale_1_1_setting}{Settings }} object in its constructor to setup the simulation, instancing the appropriate amount of \mbox{\hyperlink{classtale_1_1_actor}{Actors }} and \mbox{\hyperlink{classtale_1_1_course}{Courses }} and then filling said \mbox{\hyperlink{classtale_1_1_course}{Courses }} with \mbox{\hyperlink{classtale_1_1_actor}{Actors }}. Afterwards it can be used to run the simulation. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classtale_1_1_school_a58b33316cfcf6b44daec246f69d4f0fa}\label{classtale_1_1_school_a58b33316cfcf6b44daec246f69d4f0fa}} 
\index{tale::School@{tale::School}!School@{School}}
\index{School@{School}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{School()}{School()}}
{\footnotesize\ttfamily tale\+::\+School\+::\+School (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtale_1_1_setting}{Setting}} \&}]{setting }\end{DoxyParamCaption})}



Constructor that sets up everything necessayr for the simulation. 

Stores references to a \mbox{\hyperlink{classtale_1_1_random}{Random}} and an \mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} Object, to be used in the simulation. Uses the passed \mbox{\hyperlink{structtale_1_1_setting}{Setting}} object to instance actors and courses correctly.


\begin{DoxyParams}{Parameters}
{\em setting} & Reference to the \mbox{\hyperlink{structtale_1_1_setting}{Setting}} object for the Simulation \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtale_1_1_school_a65fdd724d413035d79148a7764ee52e3}\label{classtale_1_1_school_a65fdd724d413035d79148a7764ee52e3}} 
\index{tale::School@{tale::School}!ActorIsInCourseGroup@{ActorIsInCourseGroup}}
\index{ActorIsInCourseGroup@{ActorIsInCourseGroup}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{ActorIsInCourseGroup()}{ActorIsInCourseGroup()}}
{\footnotesize\ttfamily bool tale\+::\+School\+::\+Actor\+Is\+In\+Course\+Group (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classtale_1_1_actor}{Actor}} $>$ \&}]{actor,  }\item[{const std\+::vector$<$ std\+::weak\+\_\+ptr$<$ \mbox{\hyperlink{classtale_1_1_actor}{Actor}} $>$ $>$ \&}]{course\+\_\+group }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Checks wheter the passed \mbox{\hyperlink{classtale_1_1_actor}{Actor}} is in the passed course group. 


\begin{DoxyParams}{Parameters}
{\em actor} & Which \mbox{\hyperlink{classtale_1_1_actor}{Actor}} we want to check. \\
\hline
{\em course\+\_\+group} & Which course group we want to look for the actor in. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result of the check. 
\end{DoxyReturn}
\mbox{\Hypertarget{classtale_1_1_school_a981efdafe40ea393d59fb91e241c1bef}\label{classtale_1_1_school_a981efdafe40ea393d59fb91e241c1bef}} 
\index{tale::School@{tale::School}!FindRandomCourseGroup@{FindRandomCourseGroup}}
\index{FindRandomCourseGroup@{FindRandomCourseGroup}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{FindRandomCourseGroup()}{FindRandomCourseGroup()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::weak\+\_\+ptr$<$ \mbox{\hyperlink{classtale_1_1_actor}{Actor}} $>$ $>$ tale\+::\+School\+::\+Find\+Random\+Course\+Group (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{course\+\_\+id,  }\item[{const std\+::vector$<$ uint32\+\_\+t $>$ \&}]{slots }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Finds a random group of \mbox{\hyperlink{classtale_1_1_actor}{Actors }} that could take the \mbox{\hyperlink{classtale_1_1_course}{Course}} during those slots. 

Picks random \mbox{\hyperlink{classtale_1_1_actor}{Actors }} and checks if they do not already have the \mbox{\hyperlink{classtale_1_1_course}{Course}} corresponding to the course\+\_\+id. It furhter makes sure that the \mbox{\hyperlink{classtale_1_1_actor}{Actors }} also are free during the passed slots. Because of those conditions it is not guaranteed that a course\+\_\+group will have the full amount of \mbox{\hyperlink{classtale_1_1_actor}{Actors }} specified in setting\+\_\+.


\begin{DoxyParams}{Parameters}
{\em course\+\_\+id} & The id of the course we ant to find a a random group for. Corresponds to the courses\+\_\+ vector. \\
\hline
{\em slots} & The slots we want to find free \mbox{\hyperlink{classtale_1_1_actor}{Actors }} for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The found group of Actors. 
\end{DoxyReturn}
\mbox{\Hypertarget{classtale_1_1_school_a58a0a6ea0a90b8e38145c9aae8e5a76e}\label{classtale_1_1_school_a58a0a6ea0a90b8e38145c9aae8e5a76e}} 
\index{tale::School@{tale::School}!GetInteractionStore@{GetInteractionStore}}
\index{GetInteractionStore@{GetInteractionStore}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{GetInteractionStore()}{GetInteractionStore()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} \& tale\+::\+School\+::\+Get\+Interaction\+Store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Getter for the \mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} object of the simulation. 

\begin{DoxyReturn}{Returns}
Reference to the \mbox{\hyperlink{classtale_1_1_interaction_store}{Interaction\+Store}} object. 
\end{DoxyReturn}
\mbox{\Hypertarget{classtale_1_1_school_ab6b2f5dd4516d9319e2f8034c83d1a68}\label{classtale_1_1_school_ab6b2f5dd4516d9319e2f8034c83d1a68}} 
\index{tale::School@{tale::School}!GetRandom@{GetRandom}}
\index{GetRandom@{GetRandom}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{GetRandom()}{GetRandom()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classtale_1_1_random}{Random}} \& tale\+::\+School\+::\+Get\+Random (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Getter for the \mbox{\hyperlink{classtale_1_1_random}{Random}} object of the simulation. 

\begin{DoxyReturn}{Returns}
Reference to the \mbox{\hyperlink{classtale_1_1_random}{Random}} object. 
\end{DoxyReturn}
\mbox{\Hypertarget{classtale_1_1_school_aa81268087c49316734bca8d7f1b23f46}\label{classtale_1_1_school_aa81268087c49316734bca8d7f1b23f46}} 
\index{tale::School@{tale::School}!GetSetting@{GetSetting}}
\index{GetSetting@{GetSetting}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{GetSetting()}{GetSetting()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structtale_1_1_setting}{Setting}} \& tale\+::\+School\+::\+Get\+Setting (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Getter for the \mbox{\hyperlink{structtale_1_1_setting}{Setting}} object of the simulation. 

\begin{DoxyReturn}{Returns}
Reference to the \mbox{\hyperlink{structtale_1_1_setting}{Setting}} object. 
\end{DoxyReturn}
\mbox{\Hypertarget{classtale_1_1_school_accd65b68115bd75bae9efe7eb48589d1}\label{classtale_1_1_school_accd65b68115bd75bae9efe7eb48589d1}} 
\index{tale::School@{tale::School}!IsWorkday@{IsWorkday}}
\index{IsWorkday@{IsWorkday}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{IsWorkday()}{IsWorkday()}}
{\footnotesize\ttfamily bool tale\+::\+School\+::\+Is\+Workday (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacetale_ad595b201ea86d7ebf4b21df67f60e76d}{Weekday}}}]{weekday }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Checks wheter the passed Weeekday is a workday or not. 


\begin{DoxyParams}{Parameters}
{\em weekday} & Which Weekday we want to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result of the check. 
\end{DoxyReturn}
\mbox{\Hypertarget{classtale_1_1_school_ad164e018ad618dc4859448c0a11addbe}\label{classtale_1_1_school_ad164e018ad618dc4859448c0a11addbe}} 
\index{tale::School@{tale::School}!SimulateDay@{SimulateDay}}
\index{SimulateDay@{SimulateDay}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{SimulateDay()}{SimulateDay()}}
{\footnotesize\ttfamily void tale\+::\+School\+::\+Simulate\+Day (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{day,  }\item[{\mbox{\hyperlink{namespacetale_ad595b201ea86d7ebf4b21df67f60e76d}{Weekday}}}]{weekday }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulates a single day. 

Depending on wether it is a workday or the weekend let\textquotesingle{}s the actors go through different \mbox{\hyperlink{classtale_1_1_interaction}{Interactions }}.


\begin{DoxyParams}{Parameters}
{\em day} & Number of the day we want to simulate. \\
\hline
{\em weekday} & Which Weekday we want to simulate. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classtale_1_1_school_a0f54fb8a405defd17c71182c9ae8df6a}\label{classtale_1_1_school_a0f54fb8a405defd17c71182c9ae8df6a}} 
\index{tale::School@{tale::School}!SimulateDays@{SimulateDays}}
\index{SimulateDays@{SimulateDays}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{SimulateDays()}{SimulateDays()}}
{\footnotesize\ttfamily void tale\+::\+School\+::\+Simulate\+Days (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{days }\end{DoxyParamCaption})}



Runs the simulation for the passed amount of days. 

Calls the private Simulated\+Day function and increases current\+\_\+day\+\_\+ and increments current\+\_\+weekday\+\_\+.


\begin{DoxyParams}{Parameters}
{\em days} & How many days we want to simulate \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classtale_1_1_school_a557cf91eee5ba6d30072ab98adfc0565}\label{classtale_1_1_school_a557cf91eee5ba6d30072ab98adfc0565}} 
\index{tale::School@{tale::School}!WeekdayAndDailyTickToSlot@{WeekdayAndDailyTickToSlot}}
\index{WeekdayAndDailyTickToSlot@{WeekdayAndDailyTickToSlot}!tale::School@{tale::School}}
\doxysubsubsection{\texorpdfstring{WeekdayAndDailyTickToSlot()}{WeekdayAndDailyTickToSlot()}}
{\footnotesize\ttfamily size\+\_\+t tale\+::\+School\+::\+Weekday\+And\+Daily\+Tick\+To\+Slot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacetale_ad595b201ea86d7ebf4b21df67f60e76d}{Weekday}}}]{weekday,  }\item[{size\+\_\+t}]{daily\+\_\+tick }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Transforms a Weekday and a daily tick to a slot index. 

Slots increase each day. So if we assume there are 6 slots per day, the slot indices for monday are 0, 1, 2, 3, 4, 5 and the slots for tuesday 6, 7, 8, 9, 10, 11. This transforms a Weekday and daily tick index (which in the example above would go from 0-\/5) to corresponding slot index.


\begin{DoxyParams}{Parameters}
{\em weekday} & The Weekday from which we want to transform the daily tick to a slot index. \\
\hline
{\em daily\+\_\+tick} & The daily tick we want to transform to a slot index. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The slot index. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
tale/school.\+hpp\item 
tale/school.\+cpp\end{DoxyCompactItemize}
